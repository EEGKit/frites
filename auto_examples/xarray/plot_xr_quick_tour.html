
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Xarray : Quick tour &#8212; frites 0.4.0 documentation</title>
    
  <link href="../../_static/css/theme.css" rel="stylesheet">
  <link href="../../_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/blank.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-binder.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-dataframe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-rendered-html.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/frites_style.css" />
    
  <link rel="preload" as="script" href="../../_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="prev" title="Xarray : Saving the results" href="plot_xr_export.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
<head>
<style>
@import url('https://fonts.googleapis.com/css2?family=Maven+Pro&family=Roboto+Mono:wght@332&display=swap');
</style>
</head>

    
    <div class="container-fluid" id="banner"></div>

    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="container-xl">

  <div id="navbar-start">
    
    

<a class="navbar-brand" href="../../index.html">
  <img src="../../_static/frites_top.png" class="logo" alt="logo">
</a>


    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  
  <div id="navbar-collapsible" class="col-lg-9 collapse navbar-collapse">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
    <li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../overview/index.html">
  Overview
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../install.html">
  Installation
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../api/index.html">
  API Reference
 </a>
</li>

<li class="toctree-l1 current active nav-item">
 <a class="reference internal nav-link" href="../index.html">
  Examples
 </a>
</li>

    
</ul>
      </div>
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/brainets/frites" rel="noopener" target="_blank" title="GitHub">
            <span><i class="fab fa-github-square"></i></span>
            <label class="sr-only">GitHub</label>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://twitter.com/kNearNeighbors" rel="noopener" target="_blank" title="Twitter">
            <span><i class="fab fa-twitter-square"></i></span>
            <label class="sr-only">Twitter</label>
          </a>
        </li>
      </ul>
      </div>
      
    </div>
  </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
            
            <!-- Only show if we have sidebars configured, else just a small margin  -->
            <div class="col-12 col-md-3 bd-sidebar"><form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../tutorials/plot_dfc_estimator.html">
   Estimate the Dynamic Functional Connectivity
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../tutorials/plot_stim_spec_network.html">
   Statistical analysis of a stimulus-specific network
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../dataset/plot_dataset_mne.html">
   Define an electrophysiological dataset using MNE-Python structures
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../dataset/plot_dataset_ephy.html">
   Build an electrophysiological dataset
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../dataset/plot_dataset_xarray.html">
   Define an electrophysiological dataset using Xarray
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../mi/plot_wf_mi_ccd.html">
   MI between two continuous variables conditioned by a discret one
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../mi/plot_wf_mi_cd.html">
   MI between a continuous and a discret variables
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../mi/plot_mi_time_frequency.html">
   Compute MI across time and frequencies
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../mi/plot_wf_mi_cc.html">
   MI between two continuous variables
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../mi/plot_wf_mi_combine.html">
   Investigate relation of order
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../mi/plot_mi_conjunction.html">
   Compute a conjunction analysis on mutual-information
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../mi/plot_wf_mi_contact_level.html">
   Mutual-information at the contact level
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../estimators/plot_est_resample.html">
   Trial-resampling: correcting for unbalanced designs
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../estimators/plot_est_custom.html">
   Defining a custom estimator
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../estimators/plot_est_comparison.html">
   Estimator comparison
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../conn/plot_dfc.html">
   Estimate dynamic functional connectivity
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../conn/plot_conn.html">
   Estimate comodulations between brain areas
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../conn/plot_ccf.html">
   Lag estimation between delayed times-series using the cross-correlation
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../conn/plot_covgc.html">
   Estimate the covariance-based Granger Causality
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../armodel/plot_ar_pairwise.html">
   AR : pairwise illustration
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../armodel/plot_ar_instantaneous.html">
   AR : simulate common driving input
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../armodel/plot_ar_condcovgc.html">
   AR : conditional covariance based Granger Causality
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../utils/plot_time_windows.html">
   Define temporal windows
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../statistics/plot_wf_mi_stats_compare_rfx.html">
   Compare between-subjects statistics when computing mutual information
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../statistics/plot_wf_mi_stats_compare_ffx.html">
   Compare within-subjects statistics when computing mutual information
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../simulations/plot_generate_random_data.html">
   Generate random electrophysiological data
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="plot_xr_export.html">
   Xarray : Saving the results
  </a>
 </li>
</ul>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Xarray : Quick tour
  </a>
 </li>
</ul>

  </div>
</nav>
            </div>
            
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
            
              
              <div class="toc-item">
                
<div class="tocsection onthispage pt-5 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#simulate-data">
   Simulate data
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#xarray-conversion-and-access-to-the-internal-components">
   Xarray conversion and access to the internal components
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#xarray-slicing-and-indexing">
   Xarray slicing and indexing
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#xarray-attributes">
   Xarray attributes
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#xarray-to-an-other-format">
   Xarray to an other format
  </a>
 </li>
</ul>

</nav>
              </div>
              
              <div class="toc-item">
                
              </div>
              
            
          </div>
          

          
          
            
          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <div class="sphx-glr-download-link-note admonition note">
<p class="admonition-title">Note</p>
<p>Click <a class="reference internal" href="#sphx-glr-download-auto-examples-xarray-plot-xr-quick-tour-py"><span class="std std-ref">here</span></a>
to download the full example code</p>
</div>
<section class="sphx-glr-example-title" id="xarray-quick-tour">
<span id="sphx-glr-auto-examples-xarray-plot-xr-quick-tour-py"></span><h1>Xarray : Quick tour<a class="headerlink" href="#xarray-quick-tour" title="Permalink to this headline">¶</a></h1>
<p>Basically, this example gives a very small introduction to Xarray (very small).
We illustrate how to define a DataArray container, access its components,
perform some of the basic operations and slicing / indexing.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">xarray</span> <span class="k">as</span> <span class="nn">xr</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
</pre></div>
</div>
<section id="simulate-data">
<h2>Simulate data<a class="headerlink" href="#simulate-data" title="Permalink to this headline">¶</a></h2>
<p>lets start by creating a random spatio-temporal array</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">n_times</span> <span class="o">=</span> <span class="mi">30</span>
<span class="n">n_roi</span> <span class="o">=</span> <span class="mi">7</span>
<span class="n">times_vec</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">n_times</span><span class="p">)</span>
<span class="n">roi_vec</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="sa">f</span><span class="s2">&quot;roi_</span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_roi</span><span class="p">)])</span>
<span class="n">np_data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="n">n_times</span><span class="p">,</span> <span class="n">n_roi</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">np_data</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;*&#39;</span> <span class="o">*</span> <span class="mi">79</span><span class="p">)</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>(30, 7)
*******************************************************************************
</pre></div>
</div>
</section>
<section id="xarray-conversion-and-access-to-the-internal-components">
<h2>Xarray conversion and access to the internal components<a class="headerlink" href="#xarray-conversion-and-access-to-the-internal-components" title="Permalink to this headline">¶</a></h2>
<p>A DataArray is a container (like a well known numpy array) except that you
can add a label to each coordinate. To this end, the input <cite>dims</cite> is a tuple
that describes the dimension names and <cite>coords</cite> describes the value along
this coordinate</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># let&#39;s convert it to a DataArray</span>
<span class="n">da_data</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">DataArray</span><span class="p">(</span><span class="n">np_data</span><span class="p">,</span> <span class="n">dims</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;times&#39;</span><span class="p">,</span> <span class="s1">&#39;roi&#39;</span><span class="p">),</span>
                       <span class="n">coords</span><span class="o">=</span><span class="p">(</span><span class="n">times_vec</span><span class="p">,</span> <span class="n">roi_vec</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">da_data</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">da_data</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;*&#39;</span> <span class="o">*</span> <span class="mi">79</span><span class="p">)</span>

<span class="c1"># if you want to get the dimension names and values</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Dimension names : </span><span class="si">{</span><span class="n">da_data</span><span class="o">.</span><span class="n">dims</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Dimension values : </span><span class="si">{</span><span class="n">da_data</span><span class="o">.</span><span class="n">coords</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Data of a specific dimension : </span><span class="si">{</span><span class="n">da_data</span><span class="o">.</span><span class="n">roi</span><span class="o">.</span><span class="n">data</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;*&#39;</span> <span class="o">*</span> <span class="mi">79</span><span class="p">)</span>

<span class="c1"># if you want to get the original NumPy array enter the following :</span>
<span class="n">da_data</span><span class="o">.</span><span class="n">data</span>

<span class="c1"># if you want to change the values of a coordinate</span>
<span class="n">da_data</span><span class="p">[</span><span class="s1">&#39;roi&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="sa">f</span><span class="s2">&quot;roi_</span><span class="si">{</span><span class="n">k</span> <span class="o">%</span> <span class="mi">3</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_roi</span><span class="p">)])</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;New ROI names : </span><span class="si">{</span><span class="n">da_data</span><span class="o">.</span><span class="n">roi</span><span class="o">.</span><span class="n">data</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;*&#39;</span> <span class="o">*</span> <span class="mi">79</span><span class="p">)</span>

<span class="c1"># if you need to compute or get the min / max / mean across a specific</span>
<span class="c1"># dimension</span>
<span class="n">da_data</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="s1">&#39;times&#39;</span><span class="p">)</span>  <span class="c1"># minimum across time points</span>
<span class="n">da_data</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="s1">&#39;times&#39;</span><span class="p">)</span>  <span class="c1"># maximum across time points</span>
<span class="n">da_data</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="s1">&#39;roi&#39;</span><span class="p">)</span>   <span class="c1"># mean across all ROI</span>

<span class="c1"># similarly to Pandas, it&#39;s also possible to group along a dimension and then</span>
<span class="c1"># take the mean. For example, here&#39;s how to group and mean by roi names</span>
<span class="n">da_m</span> <span class="o">=</span> <span class="n">da_data</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;roi&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="s1">&#39;roi&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">da_m</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;*&#39;</span> <span class="o">*</span> <span class="mi">79</span><span class="p">)</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>(30, 7)
&lt;xarray.DataArray (times: 30, roi: 7)&gt;
array([[0.71175577, 0.97593673, 0.61434226, 0.15123163, 0.42444113,
        0.40884898, 0.55536693],
       [0.71470435, 0.49728234, 0.23954488, 0.48931982, 0.62523206,
        0.93827462, 0.9080249 ],
       [0.52364596, 0.31012349, 0.22111831, 0.73700607, 0.95175336,
        0.2424112 , 0.5039212 ],
       [0.70825671, 0.02999886, 0.39759887, 0.15923865, 0.0518408 ,
        0.38939313, 0.35824833],
       [0.97178648, 0.64230523, 0.08416942, 0.22689141, 0.17643602,
        0.19533244, 0.18891874],
       [0.5369277 , 0.9632423 , 0.97938164, 0.87274635, 0.68101482,
        0.24707801, 0.69795361],
       [0.48074191, 0.78525747, 0.32591202, 0.4392612 , 0.50881022,
        0.26174558, 0.43220213],
       [0.021046  , 0.85293868, 0.3951043 , 0.94284267, 0.85992592,
        0.51427775, 0.24230008],
       [0.6943106 , 0.92522593, 0.4697146 , 0.69961681, 0.14287013,
        0.72884055, 0.5016785 ],
       [0.39114065, 0.14543728, 0.05301387, 0.8012735 , 0.99919449,
        0.1670357 , 0.95695982],
...
       [0.23937052, 0.1430133 , 0.62091069, 0.98013317, 0.99126221,
        0.43641767, 0.61015945],
       [0.07742245, 0.06949267, 0.62100271, 0.43612552, 0.28511213,
        0.853936  , 0.44864197],
       [0.78074693, 0.52011043, 0.880593  , 0.43208366, 0.05606913,
        0.58793388, 0.60470751],
       [0.08435898, 0.65933176, 0.66280092, 0.70361109, 0.98909301,
        0.20999243, 0.95900918],
       [0.59799857, 0.69742669, 0.2193526 , 0.47704613, 0.88152474,
        0.95573781, 0.54037903],
       [0.51557663, 0.98922424, 0.01744248, 0.01460476, 0.04077167,
        0.6276627 , 0.65830812],
       [0.52378108, 0.55141657, 0.79435514, 0.13284097, 0.07613281,
        0.87018618, 0.19864313],
       [0.70713399, 0.20196685, 0.17112592, 0.162074  , 0.62006924,
        0.56352063, 0.42029784],
       [0.85722273, 0.99265005, 0.18794821, 0.04830347, 0.13049542,
        0.34406676, 0.93874179],
       [0.18257021, 0.60282789, 0.22696007, 0.61171965, 0.80716518,
        0.28816339, 0.89641886]])
Coordinates:
  * times    (times) float64 -1.0 -0.931 -0.8621 -0.7931 ... 0.8621 0.931 1.0
  * roi      (roi) &lt;U5 &#39;roi_0&#39; &#39;roi_1&#39; &#39;roi_2&#39; &#39;roi_3&#39; &#39;roi_4&#39; &#39;roi_5&#39; &#39;roi_6&#39;
*******************************************************************************
Dimension names : (&#39;times&#39;, &#39;roi&#39;)
Dimension values : Coordinates:
  * times    (times) float64 -1.0 -0.931 -0.8621 -0.7931 ... 0.8621 0.931 1.0
  * roi      (roi) &lt;U5 &#39;roi_0&#39; &#39;roi_1&#39; &#39;roi_2&#39; &#39;roi_3&#39; &#39;roi_4&#39; &#39;roi_5&#39; &#39;roi_6&#39;
Data of a specific dimension : [&#39;roi_0&#39; &#39;roi_1&#39; &#39;roi_2&#39; &#39;roi_3&#39; &#39;roi_4&#39; &#39;roi_5&#39; &#39;roi_6&#39;]
*******************************************************************************
New ROI names : [&#39;roi_0&#39; &#39;roi_1&#39; &#39;roi_2&#39; &#39;roi_0&#39; &#39;roi_1&#39; &#39;roi_2&#39; &#39;roi_0&#39;]
*******************************************************************************
&lt;xarray.DataArray (times: 30, roi: 3)&gt;
array([[0.47278478, 0.70018893, 0.51159562],
       [0.70401636, 0.5612572 , 0.58890975],
       [0.58819108, 0.63093843, 0.23176476],
       [0.40858123, 0.04091983, 0.393496  ],
       [0.46253221, 0.40937063, 0.13975093],
       [0.70254255, 0.82212856, 0.61322983],
       [0.45073508, 0.64703385, 0.2938288 ],
       [0.40206291, 0.8564323 , 0.45469102],
       [0.63186864, 0.53404803, 0.59927758],
       [0.71645799, 0.57231589, 0.11002478],
       [0.81345125, 0.53912105, 0.59035943],
       [0.40708048, 0.49958966, 0.38600567],
       [0.49461592, 0.38488314, 0.62441659],
       [0.65882424, 0.30793116, 0.96864664],
       [0.13659344, 0.458344  , 0.83467411],
       [0.35998245, 0.55541745, 0.48514549],
       [0.66789962, 0.86434827, 0.19753586],
       [0.74611474, 0.30785183, 0.20566053],
       [0.68370081, 0.43035317, 0.54933182],
       [0.8343922 , 0.92015   , 0.47489137],
       [0.60988771, 0.56713775, 0.52866418],
       [0.32072998, 0.1773024 , 0.73746935],
       [0.60584603, 0.28808978, 0.73426344],
       [0.58232642, 0.82421239, 0.43639668],
       [0.53847458, 0.78947571, 0.58754521],
       [0.39616317, 0.51499796, 0.32255259],
       [0.28508839, 0.31377469, 0.83227066],
       [0.42983528, 0.41101805, 0.36732328],
       [0.614756  , 0.56157274, 0.26600749],
       [0.56356957, 0.70499653, 0.25756173]])
Coordinates:
  * times    (times) float64 -1.0 -0.931 -0.8621 -0.7931 ... 0.8621 0.931 1.0
  * roi      (roi) object &#39;roi_0&#39; &#39;roi_1&#39; &#39;roi_2&#39;
*******************************************************************************
</pre></div>
</div>
</section>
<section id="xarray-slicing-and-indexing">
<h2>Xarray slicing and indexing<a class="headerlink" href="#xarray-slicing-and-indexing" title="Permalink to this headline">¶</a></h2>
<p>Now we show how to slice the container</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># select a single specific ROI based on it&#39;s name</span>
<span class="n">da_data</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">roi</span><span class="o">=</span><span class="s1">&#39;roi_0&#39;</span><span class="p">)</span>

<span class="c1"># select a time range</span>
<span class="n">da_time_slice</span> <span class="o">=</span> <span class="n">da_data</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">times</span><span class="o">=</span><span class="nb">slice</span><span class="p">(</span><span class="o">-</span><span class="mf">.5</span><span class="p">,</span> <span class="mf">.5</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Temporal selection : </span><span class="si">{</span><span class="n">da_time_slice</span><span class="o">.</span><span class="n">coords</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;*&#39;</span> <span class="o">*</span> <span class="mi">79</span><span class="p">)</span>

<span class="c1"># off course, spatio-temporal selection is also supported</span>
<span class="n">da_st</span> <span class="o">=</span> <span class="n">da_data</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">times</span><span class="o">=</span><span class="nb">slice</span><span class="p">(</span><span class="o">-</span><span class="mf">.5</span><span class="p">,</span> <span class="mf">.5</span><span class="p">),</span> <span class="n">roi</span><span class="o">=</span><span class="s1">&#39;roi_1&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Spatio-temporal selection : </span><span class="si">{</span><span class="n">da_st</span><span class="o">.</span><span class="n">coords</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;*&#39;</span> <span class="o">*</span> <span class="mi">79</span><span class="p">)</span>

<span class="c1"># you can also slice according to indices</span>
<span class="n">da_isel</span> <span class="o">=</span> <span class="n">da_data</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">times</span><span class="o">=</span><span class="nb">slice</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Integer selection : </span><span class="si">{</span><span class="n">da_isel</span><span class="o">.</span><span class="n">coords</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;*&#39;</span> <span class="o">*</span> <span class="mi">79</span><span class="p">)</span>

<span class="c1"># however, if you want for example select multiple items based on their names,</span>
<span class="c1"># you have to use booleans. Here&#39;s a small example that&#39;s using Pandas</span>
<span class="n">roi</span> <span class="o">=</span> <span class="n">da_data</span><span class="o">.</span><span class="n">roi</span><span class="o">.</span><span class="n">data</span>
<span class="n">use_roi</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;roi_0&#39;</span><span class="p">,</span> <span class="s1">&#39;roi_2&#39;</span><span class="p">]</span>
<span class="n">is_roi</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">roi</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="s1">&#39;|&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">use_roi</span><span class="p">))</span>
<span class="n">da_mi</span> <span class="o">=</span> <span class="n">da_data</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">roi</span><span class="o">=</span><span class="n">is_roi</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Multi-items selection : </span><span class="si">{</span><span class="n">da_mi</span><span class="o">.</span><span class="n">coords</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>Temporal selection : Coordinates:
  * times    (times) float64 -0.4483 -0.3793 -0.3103 ... 0.3103 0.3793 0.4483
  * roi      (roi) &lt;U5 &#39;roi_0&#39; &#39;roi_1&#39; &#39;roi_2&#39; &#39;roi_0&#39; &#39;roi_1&#39; &#39;roi_2&#39; &#39;roi_0&#39;
*******************************************************************************
Spatio-temporal selection : Coordinates:
  * times    (times) float64 -0.4483 -0.3793 -0.3103 ... 0.3103 0.3793 0.4483
  * roi      (roi) &lt;U5 &#39;roi_1&#39; &#39;roi_1&#39;
*******************************************************************************
Integer selection : Coordinates:
  * times    (times) float64 -0.3103 -0.2414 -0.1724 ... 0.1724 0.2414 0.3103
  * roi      (roi) &lt;U5 &#39;roi_0&#39; &#39;roi_1&#39; &#39;roi_2&#39; &#39;roi_0&#39; &#39;roi_1&#39; &#39;roi_2&#39; &#39;roi_0&#39;
*******************************************************************************
Multi-items selection : Coordinates:
  * times    (times) float64 -1.0 -0.931 -0.8621 -0.7931 ... 0.8621 0.931 1.0
  * roi      (roi) &lt;U5 &#39;roi_0&#39; &#39;roi_2&#39; &#39;roi_0&#39; &#39;roi_2&#39; &#39;roi_0&#39;
</pre></div>
</div>
</section>
<section id="xarray-attributes">
<h2>Xarray attributes<a class="headerlink" href="#xarray-attributes" title="Permalink to this headline">¶</a></h2>
<p>One of the nice features of DataArray is that it supporting setting
attributes. Therefore you can add, for example, the parameters that describe
your analysis</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># adding a few string attributes</span>
<span class="n">da_data</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s1">&#39;inference&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;ffx&#39;</span>
<span class="n">da_data</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s1">&#39;stats&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;cluster-based&#39;</span>
<span class="n">da_data</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s1">&#39;description&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;Here&#39;s a small description of the analysis</span>
<span class="s2">I&#39;m currently running. Trying to find a difference between condition 1. vs 2.</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="c1"># you can also add vectors (but not arrays) to the attributes</span>
<span class="n">da_data</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s1">&#39;vector&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span>

<span class="c1"># however, &quot;None&quot; seems to pose a problem when saving the results. Therefore,</span>
<span class="c1"># one quick way to solve this is simply to convert it into a string</span>
<span class="n">da_data</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s1">&#39;none_problem&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">da_data</span><span class="p">)</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;xarray.DataArray (times: 30, roi: 7)&gt;
array([[0.71175577, 0.97593673, 0.61434226, 0.15123163, 0.42444113,
        0.40884898, 0.55536693],
       [0.71470435, 0.49728234, 0.23954488, 0.48931982, 0.62523206,
        0.93827462, 0.9080249 ],
       [0.52364596, 0.31012349, 0.22111831, 0.73700607, 0.95175336,
        0.2424112 , 0.5039212 ],
       [0.70825671, 0.02999886, 0.39759887, 0.15923865, 0.0518408 ,
        0.38939313, 0.35824833],
       [0.97178648, 0.64230523, 0.08416942, 0.22689141, 0.17643602,
        0.19533244, 0.18891874],
       [0.5369277 , 0.9632423 , 0.97938164, 0.87274635, 0.68101482,
        0.24707801, 0.69795361],
       [0.48074191, 0.78525747, 0.32591202, 0.4392612 , 0.50881022,
        0.26174558, 0.43220213],
       [0.021046  , 0.85293868, 0.3951043 , 0.94284267, 0.85992592,
        0.51427775, 0.24230008],
       [0.6943106 , 0.92522593, 0.4697146 , 0.69961681, 0.14287013,
        0.72884055, 0.5016785 ],
       [0.39114065, 0.14543728, 0.05301387, 0.8012735 , 0.99919449,
        0.1670357 , 0.95695982],
...
       [0.23937052, 0.1430133 , 0.62091069, 0.98013317, 0.99126221,
        0.43641767, 0.61015945],
       [0.07742245, 0.06949267, 0.62100271, 0.43612552, 0.28511213,
        0.853936  , 0.44864197],
       [0.78074693, 0.52011043, 0.880593  , 0.43208366, 0.05606913,
        0.58793388, 0.60470751],
       [0.08435898, 0.65933176, 0.66280092, 0.70361109, 0.98909301,
        0.20999243, 0.95900918],
       [0.59799857, 0.69742669, 0.2193526 , 0.47704613, 0.88152474,
        0.95573781, 0.54037903],
       [0.51557663, 0.98922424, 0.01744248, 0.01460476, 0.04077167,
        0.6276627 , 0.65830812],
       [0.52378108, 0.55141657, 0.79435514, 0.13284097, 0.07613281,
        0.87018618, 0.19864313],
       [0.70713399, 0.20196685, 0.17112592, 0.162074  , 0.62006924,
        0.56352063, 0.42029784],
       [0.85722273, 0.99265005, 0.18794821, 0.04830347, 0.13049542,
        0.34406676, 0.93874179],
       [0.18257021, 0.60282789, 0.22696007, 0.61171965, 0.80716518,
        0.28816339, 0.89641886]])
Coordinates:
  * times    (times) float64 -1.0 -0.931 -0.8621 -0.7931 ... 0.8621 0.931 1.0
  * roi      (roi) &lt;U5 &#39;roi_0&#39; &#39;roi_1&#39; &#39;roi_2&#39; &#39;roi_0&#39; &#39;roi_1&#39; &#39;roi_2&#39; &#39;roi_0&#39;
Attributes:
    inference:     ffx
    stats:         cluster-based
    description:   Here&#39;s a small description of the analysis\nI&#39;m currently ...
    vector:        [ 0  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 ...
    none_problem:  None
</pre></div>
</div>
</section>
<section id="xarray-to-an-other-format">
<h2>Xarray to an other format<a class="headerlink" href="#xarray-to-an-other-format" title="Permalink to this headline">¶</a></h2>
<p>Finally, we quickly illustrate how to convert a DataArray into, for example,
a pandas.DataFrame</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">da_data</span><span class="o">.</span><span class="n">to_pandas</span><span class="p">())</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>roi           roi_0     roi_1     roi_2     roi_0     roi_1     roi_2     roi_0
times
-1.000000  0.711756  0.975937  0.614342  0.151232  0.424441  0.408849  0.555367
-0.931034  0.714704  0.497282  0.239545  0.489320  0.625232  0.938275  0.908025
-0.862069  0.523646  0.310123  0.221118  0.737006  0.951753  0.242411  0.503921
-0.793103  0.708257  0.029999  0.397599  0.159239  0.051841  0.389393  0.358248
-0.724138  0.971786  0.642305  0.084169  0.226891  0.176436  0.195332  0.188919
-0.655172  0.536928  0.963242  0.979382  0.872746  0.681015  0.247078  0.697954
-0.586207  0.480742  0.785257  0.325912  0.439261  0.508810  0.261746  0.432202
-0.517241  0.021046  0.852939  0.395104  0.942843  0.859926  0.514278  0.242300
-0.448276  0.694311  0.925226  0.469715  0.699617  0.142870  0.728841  0.501678
-0.379310  0.391141  0.145437  0.053014  0.801274  0.999194  0.167036  0.956960
-0.310345  0.913416  0.795025  0.652382  0.950758  0.283217  0.528337  0.576180
-0.241379  0.823393  0.923906  0.499041  0.165976  0.075273  0.272970  0.231873
-0.172414  0.534718  0.569410  0.455770  0.295566  0.200356  0.793064  0.653564
-0.103448  0.711253  0.390661  0.944090  0.472072  0.225201  0.993203  0.793149
-0.034483  0.047610  0.122743  0.751934  0.097392  0.793945  0.917414  0.264778
 0.034483  0.668195  0.318414  0.804157  0.296559  0.792421  0.166134  0.115193
 0.103448  0.483887  0.914614  0.251582  0.859513  0.814083  0.143489  0.660298
 0.172414  0.531835  0.299919  0.313377  0.727589  0.315784  0.097944  0.978920
 0.241379  0.284787  0.353764  0.858375  0.932615  0.506942  0.240288  0.833701
 0.310345  0.826958  0.855997  0.467464  0.908700  0.984303  0.482319  0.767518
 0.379310  0.239371  0.143013  0.620911  0.980133  0.991262  0.436418  0.610159
 0.448276  0.077422  0.069493  0.621003  0.436126  0.285112  0.853936  0.448642
 0.517241  0.780747  0.520110  0.880593  0.432084  0.056069  0.587934  0.604708
 0.586207  0.084359  0.659332  0.662801  0.703611  0.989093  0.209992  0.959009
 0.655172  0.597999  0.697427  0.219353  0.477046  0.881525  0.955738  0.540379
 0.724138  0.515577  0.989224  0.017442  0.014605  0.040772  0.627663  0.658308
 0.793103  0.523781  0.551417  0.794355  0.132841  0.076133  0.870186  0.198643
 0.862069  0.707134  0.201967  0.171126  0.162074  0.620069  0.563521  0.420298
 0.931034  0.857223  0.992650  0.187948  0.048303  0.130495  0.344067  0.938742
 1.000000  0.182570  0.602828  0.226960  0.611720  0.807165  0.288163  0.896419
</pre></div>
</div>
<p class="sphx-glr-timing"><strong>Total running time of the script:</strong> ( 0 minutes  2.459 seconds)</p>
<p><strong>Estimated memory usage:</strong>  8 MB</p>
<div class="sphx-glr-footer class sphx-glr-footer-example docutils container" id="sphx-glr-download-auto-examples-xarray-plot-xr-quick-tour-py">
<div class="sphx-glr-download sphx-glr-download-python docutils container">
<p><a class="reference download internal" download="" href="../../_downloads/2429c724f306f4b7e43ba3bc570cef2f/plot_xr_quick_tour.py"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Python</span> <span class="pre">source</span> <span class="pre">code:</span> <span class="pre">plot_xr_quick_tour.py</span></code></a></p>
</div>
<div class="sphx-glr-download sphx-glr-download-jupyter docutils container">
<p><a class="reference download internal" download="" href="../../_downloads/7fc6e441ed2ae25abc7801fb230aef71/plot_xr_quick_tour.ipynb"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Jupyter</span> <span class="pre">notebook:</span> <span class="pre">plot_xr_quick_tour.ipynb</span></code></a></p>
</div>
</div>
<p class="sphx-glr-signature"><a class="reference external" href="https://sphinx-gallery.github.io">Gallery generated by Sphinx-Gallery</a></p>
</section>
</section>


              </div>
              
              
              <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="plot_xr_export.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Xarray : Saving the results</p>
        </div>
    </a>
</div>
              
          </main>
          

      </div>
    </div>
  
  <script src="../../_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

    <hr>
    <footer>
        <div class="container">
            <img src="../../_static/baniere.png" alt="Ban" height="80">
        </div>
        <br>
        <!-- <br> -->
        <p>&copy; Copyright Last updated on 2021-10-21.</p>
    </footer>

  </body>
</html>